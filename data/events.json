[null,{"name":"Anti Raid Release","temp":"member","event-type":"6","_id":"ioPVo","actions":[{"member":"2","varName":"member","info":"1","storage":"1","varName2":"user","name":"Store Member Info"},{"server":"0","varName":"","info":"11","storage":"1","varName2":"owner","name":"Store Server Info"},{"member":"2","varName":"owner","info":"22","storage":"1","varName2":"ownertag","name":"Store Member Info"},{"behavior":"0","interpretation":"0","code":"const ms = require('ms')\nconst member = tempVars(\"user\")\n\nms(Date.now()-client.users.get(member).createdTimestamp, {long:true})","storage":"1","varName":"outputcheck","name":"Run Script"},{"storage":"1","varName":"outputcheck","comparison":"5","value":"\"seconds\"","iftrue":"2","iftrueVal":"10","iffalse":"0","iffalseVal":"","name":"Check Variable"},{"storage":"1","varName":"outputcheck","comparison":"5","value":"\"minutes\"","iftrue":"2","iftrueVal":"10","iffalse":"0","iffalseVal":"","name":"Check Variable"},{"storage":"1","varName":"outputcheck","comparison":"5","value":"\"hours\"","iftrue":"2","iftrueVal":"10","iffalse":"0","iffalseVal":"","name":"Check Variable"},{"behavior":"0","interpretation":"0","code":"var output = tempVars(\"outputcheck\")\nvar check = parseInt(output.replace(\"days\", \"\"));\n\ncheck <= 14;","storage":"1","varName":"tocheck","name":"Run Script"},{"storage":"1","varName":"tocheck","comparison":"2","value":"true","iftrue":"0","iftrueVal":"","iffalse":"1","iffalseVal":"","name":"Check Variable"},{"member":"2","varName":"member","info":"0","varName2":"","iftrue":"2","iftrueVal":"17","iffalse":"0","iffalseVal":"","name":"Check If Member"},{"channel":"5","varName":"member","message":"You were banned by an automated system due to having an account younger then 14 days, if you wish to be unbanned please contact **${tempVars(\"ownertag\")}**. Have a nice day ðŸ˜ƒ ","storage":"0","varName2":"","name":"Send Message"},{"member":"2","varName":"member","info":"22","storage":"1","varName2":"membertag","name":"Store Member Info"},{"member":"2","varName":"member","info":"2","storage":"1","varName2":"username","name":"Store Member Info"},{"member":"2","varName":"member","info":"16","storage":"1","varName2":"avatar","name":"Store Member Info"},{"info":"0","find":"720169435272577115","storage":"1","varName":"logs","name":"Find Channel"},{"behavior":"0","interpretation":"0","code":"const { RichEmbed } = require('discord.js')\nconst em = new RichEmbed()\n.setColor(\"#ff0000\")\n.setTitle(\"Logged\")\n.setAuthor(`${tempVars(\"username\")}`, `${tempVars(\"avatar\")}`)\n.setDescription(`The automated anti raid system banned a user \\n \\n User: \\n **${tempVars(\"membertag\")}** \\n \\n Account was **${tempVars(\"outputcheck\")}** old`);\ntempVars(\"logs\").send(em);","storage":"0","varName":"","name":"Run Script"},{"member":"2","varName":"member","reason":"","name":"Ban Member"},{"info":"0","find":"720169435272577115","storage":"1","varName":"logs","name":"Find Channel"},{"channel":"5","varName":"logs","message":"The system banned a bot that was ${tempVars(\"outputcheck\")} old, because it was a bot there were no proper logs","storage":"0","varName2":"","name":"Send Message"}]},{"name":"","temp":"","event-type":"0","_id":"XOVkW","actions":[]},{"name":"message-edited","temp":"msg1","event-type":"26","_id":"voIMM","actions":[{"behavior":"1","interpretation":"1","code":"const wm = this.getWrexMods();\nconst fs = require(\"fs\");\nconst nodegyp = wm.require('node-gyp');\nconst db = wm.require('quick.db');\nconst path = `./resources/database/${server.id}/log_chan.txt`;\nconst msg1 = tempVars('msg1');\nconst msg2 = tempVars(\"msg2\");\nlet embed = new DiscordJS.RichEmbed();\n\nif (fs.existsSync(path)) {\n    const log_chan = fs.readFileSync(path, 'utf8');\n    const log_system = db.get(`${server.id}log_system.message-edited`);\n    if (log_system === \"enabled\") {\n        if (msg1.author.bot == false) {\n            embed.setTitle('Message Edited');\n            embed.setURL(msg2.url);\n            embed.setAuthor(msg1.author.tag, msg1.author.displayAvatarURL);\n            embed.setColor('#EE82EE');\n            embed.setThumbnail(msg1.author.displayAvatarURL);\n            embed.addField('Original Message', (msg1.content.length <= 1024) ? msg1.content : `${msg1.content.substring(0, 1020)}...`, true);\n            embed.addField('Edited Message', (msg2.content.length <= 1024) ? msg2.content : `${msg2.content.substring(0, 1020)}...`, true);\n            embed.addField('Channel', msg1.channel, true);\n            embed.addField('Message Author', `${msg1.author} (${msg1.author.tag})`, true);\n            embed.addField('Number of Edits', msg2.edits.length, true);\n            (msg2.mentions.users.size === 0) ? embed.addField('Mentioned Users', 'None', true): embed.addField('Mentioned Users', `Mentioned Member Count: ${msg2.mentions.users.array().length} \\n Mentioned Users List: \\n ${msg2.mentions.users.array()}`, true);\n            embed.setTimestamp();\n            server.channels.get(log_chan).send(embed);\n            db.add(`${server.id}logs.message_edited`, 1);\n            db.add(`${server.id}logs.all`, 1);\n        }\n    }\n}","storage":"0","varName":"","name":"Run Script"}],"temp2":"msg2","restriction":"0"},{"name":"message-deleted","temp":"msgdel","event-type":"18","_id":"XpYuO","actions":[{"behavior":"1","interpretation":"1","code":"if (me.permissions.has('VIEW_AUDIT_LOG')) {\n    server.fetchAuditLogs()\n        .then(audit => {\n            this.storeValue(audit.entries.first()\n                .executor, 1, \"delby\", cache);\n            Actions.callNextAction(cache);\n        })\n        .catch(console.error);\n} else {\n    Actions.callNextAction(cache);\n}","storage":"0","varName":"","name":"Run Script"},{"behavior":"1","interpretation":"1","code":"const wm = this.getWrexMods();\nconst fs = require(\"fs\");\nconst nodegyp = wm.require('node-gyp');\nconst db = wm.require('quick.db');\nconst path = `./resources/database/${server.id}/log_chan.txt`;\nconst msgdel = tempVars('msgdel');\nconst delby = tempVars(\"delby\");\nlet embed = new DiscordJS.RichEmbed();\n\nif (fs.existsSync(path)) {\n    const log_chan = fs.readFileSync(path, 'utf8');\n    const log_system = db.get(`${server.id}log_system.message-deleted`);\n    if (log_system === \"enabled\") {\n        if (msgdel.author.bot == false) {\n            embed.setTitle('Message Deleted');\n            embed.setURL(msgdel.url);\n            embed.setAuthor(msgdel.author.tag, msgdel.author.displayAvatarURL);\n            embed.setThumbnail(msgdel.author.displayAvatarURL);\n            embed.addField('Deleted Text', (msgdel.content.length <= 1024) ? msgdel.content : `${msgdel.content.substring(0, 1020)}...`, true);\n            embed.addField('Channel', msgdel.channel, true);\n            embed.addField('Message Author', `${msgdel.author} (${msgdel.author.tag})`, true);\n            (delby) ? (msgdel.author !== delby) ? embed.addField('Deleted By', delby, true): '' : '';\n            (msgdel.mentions.users.size === 0) ? embed.addField('Mentioned Users', 'None', true): embed.addField('Mentioned Users', `Mentioned Member Count: ${msgdel.mentions.users.array().length} \\n Mentioned Users List: \\n ${msgdel.mentions.users.array()}`, true);\n            embed.setTimestamp();\n            server.channels.get(log_chan).send(embed);\n            db.add(`${server.id}logs.message_deleted`, 1);\n            db.add(`${server.id}logs.all`, 1);\n        }\n    }\n}","storage":"0","varName":"","name":"Run Script"}],"restriction":"0"},{"name":"member-join","temp":"memberjoin","event-type":"6","_id":"WFmNF","actions":[{"behavior":"1","interpretation":"1","code":"const wm = this.getWrexMods();\nconst fs = require(\"fs\");\nconst nodegyp = wm.require('node-gyp');\nconst db = wm.require('quick.db');\nconst path = `./resources/database/${server.id}/log_chan.txt`;\nconst memberjoin = tempVars('memberjoin');\nlet embed = new DiscordJS.RichEmbed();\n\n(async () => {\nif (fs.existsSync(path)) {\n    const log_chan = fs.readFileSync(path, 'utf8');\n    const log_system = db.get(`${server.id}log_system.member-join`);\n    if (log_system === \"enabled\") {\n        const memS = await server.fetchMembers();\n        embed.setTitle('Member Joined');\n        embed.setColor('#3dd0f4');\n        embed.setAuthor(memberjoin.user.tag, memberjoin.user.displayAvatarURL);\n        embed.setThumbnail(memberjoin.user.displayAvatarURL);\n        embed.addField('User', memberjoin, true);\n        embed.addField('Member Count', server.members.size, true);\n        embed.setFooter(`ID: ${memberjoin.user.id}`);\n        embed.setTimestamp();\n        server.channels.get(log_chan).send(embed);\n        db.add(`${server.id}logs.member_joined`, 1);\n        db.add(`${server.id}logs.all`, 1);\n    }\n}\n})();","storage":"0","varName":"","name":"Run Script"}],"restriction":"0"},{"name":"member-leave","temp":"memberleave","event-type":"7","_id":"sJMAW","actions":[{"behavior":"1","interpretation":"1","code":"const wm = this.getWrexMods();\nconst fs = require(\"fs\");\nconst nodegyp = wm.require('node-gyp');\nconst db = wm.require('quick.db');\nconst path = `./resources/database/${server.id}/log_chan.txt`;\nconst memberleave = tempVars('memberleave');\nlet embed = new DiscordJS.RichEmbed();\n\n(async () => {\nif (fs.existsSync(path)) {\n    const log_chan = fs.readFileSync(path, 'utf8');\n    const log_system = db.get(`${server.id}log_system.member-leave`);\n    if (log_system === \"enabled\") {\n        const memS = await server.fetchMembers();\n        embed.setTitle('Member Left');\n        embed.setColor('#3dd0f4');\n        embed.setAuthor(memberleave.user.tag, memberleave.user.displayAvatarURL);\n        embed.setThumbnail(memberleave.user.displayAvatarURL);\n        embed.addField('User', memberleave, true);\n        embed.addField('Member Count', server.members.size, true);\n        embed.setFooter(`ID: ${memberleave.user.id}`);\n        embed.setTimestamp();\n        server.channels.get(log_chan)\n            .send(embed);\n        db.add(`${server.id}logs.member_leave`, 1);\n        db.add(`${server.id}logs.all`, 1);\n    }\n}\n})();","storage":"0","varName":"","name":"Run Script"}],"restriction":"0"}]